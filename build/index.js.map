{"version":3,"file":"index.js","mappings":"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","sources":["webpack://heureux-mix-utils/./src/index.scss?bb7c","webpack://heureux-mix-utils/external window \"ReactJSXRuntime\"","webpack://heureux-mix-utils/external window [\"wp\",\"apiFetch\"]","webpack://heureux-mix-utils/external window [\"wp\",\"components\"]","webpack://heureux-mix-utils/external window [\"wp\",\"data\"]","webpack://heureux-mix-utils/external window [\"wp\",\"domReady\"]","webpack://heureux-mix-utils/external window [\"wp\",\"element\"]","webpack://heureux-mix-utils/external window [\"wp\",\"i18n\"]","webpack://heureux-mix-utils/external window [\"wp\",\"notices\"]","webpack://heureux-mix-utils/webpack/bootstrap","webpack://heureux-mix-utils/webpack/runtime/compat get default export","webpack://heureux-mix-utils/webpack/runtime/define property getters","webpack://heureux-mix-utils/webpack/runtime/hasOwnProperty shorthand","webpack://heureux-mix-utils/webpack/runtime/make namespace object","webpack://heureux-mix-utils/./src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import domReady from '@wordpress/dom-ready';\nimport { createRoot } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\nimport { Panel, PanelBody, PanelRow } from '@wordpress/components';\nimport { ToggleControl, TextControl, Button, Spinner } from '@wordpress/components';\n\nimport { useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { useEffect } from '@wordpress/element';\n\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { NoticeList } from '@wordpress/components';\n\nimport './index.scss';\n\nconst useSettings = () => {\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [show, setShow] = useState(false);\n\tconst [title, setTitle] = useState('');\n\tconst [hours, setHours] = useState('');\n\tconst [tel, setTel] = useState('');\n\tconst [isSaving, setIsSaving] = useState(false);\n\n\tconst { createSuccessNotice, removeAllNotices } = useDispatch(noticesStore);\n\n\tuseEffect(() => {\n\t\tapiFetch({ path: '/wp/v2/settings' })\n\t\t\t.then((settings) => {\n\t\t\t\tconst mySettings = settings.heureux_mix_utils;\n\t\t\t\tif (mySettings) {\n\t\t\t\t\tsetShow(mySettings.show);\n\t\t\t\t\tsetTitle(mySettings.title);\n\t\t\t\t\tsetHours(mySettings.hours);\n\t\t\t\t\tsetTel(mySettings.tel);\n\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error fetching settings:', error);\n\t\t\t\tsetIsLoading(false);\n\t\t\t});\n\t}, []);\n\n\tconst saveSettings = () => {\n\t\tapiFetch({\n\t\t\tpath: '/wp/v2/settings',\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\theureux_mix_utils: { show, title, hours, tel },\n\t\t\t},\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\t// == Remove existing notices\n\t\t\t\tremoveAllNotices();\n\t\t\t\tsetIsSaving(true);\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tcreateSuccessNotice(__('Settings saved.', 'heureux-mix'));\n\t\t\t\t\tsetIsSaving(false);\n\t\t\t\t}, 500);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error saving settings:', error);\n\t\t\t});\n\t};\n\n\treturn { show, setShow, title, setTitle, hours, setHours, tel, setTel, saveSettings, isLoading, isSaving };\n};\n\nconst ShowControl = ({ value, onChange }) => {\n\treturn <ToggleControl label={__('Afficher sur le site', 'heureux-mix')} checked={value} onChange={onChange} __nextHasNoMarginBottom />;\n};\n\nconst TitleControl = ({ value, onChange }) => {\n\treturn <TextControl label={__('Titre', 'heureux-mix')} value={value} onChange={onChange} />;\n};\n\nconst HoursControl = ({ value, onChange }) => {\n\treturn <TextControl label={__('Horaires', 'heureux-mix')} value={value} onChange={onChange} />;\n};\n\nconst TelControl = ({ value, onChange }) => {\n\treturn <TextControl label={__('Téléphone', 'heureux-mix')} help={__(\"Pas d'espaces. Ex : 0612345678\", 'heureux-mix')} type=\"number\" value={value} onChange={onChange} />;\n};\n\nconst SaveButton = ({ onClick }) => {\n\treturn (\n\t\t<Button isPrimary onClick={onClick}>\n\t\t\t{__('Enregistrer', 'heureux-mix')}\n\t\t</Button>\n\t);\n};\n\nconst Notices = () => {\n\tconst { removeNotices } = useDispatch(noticesStore);\n\tconst notices = useSelect((select) => select(noticesStore).getNotices());\n\n\tif (notices.length === 0) {\n\t\treturn null;\n\t}\n\n\treturn <NoticeList notices={notices} onRemove={removeNotices} />;\n};\n\nconst SettingsPage = () => {\n\tconst { show, setShow, title, setTitle, hours, setHours, tel, setTel, saveSettings, isLoading, isSaving } = useSettings();\n\n\tif (isLoading) {\n\t\treturn <p>{__('Loading...', 'heureux-mix')}</p>;\n\t} else {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h1>{__('Heureux Mix Utils', 'heureux-mix')}</h1>\n\t\t\t\t<Panel header={'Popup \"Infoline DJ\"'}>\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<ShowControl value={show} onChange={setShow} />\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t{show && (\n\t\t\t\t\t\t<PanelBody title={__('Informations', 'heureux-mix')} initialOpen={true}>\n\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t<TitleControl value={title} onChange={setTitle} />\n\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t<HoursControl value={hours} onChange={setHours} />\n\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t<TelControl value={tel} onChange={setTel} />\n\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t)}\n\t\t\t\t</Panel>\n\t\t\t\t{isSaving ? <Spinner /> : <SaveButton onClick={saveSettings} />}\n\n\t\t\t\t<Notices />\n\t\t\t</>\n\t\t);\n\t}\n};\n\ndomReady(() => {\n\tconst root = createRoot(document.getElementById('heureux-mix-utils'));\n\n\troot.render(<SettingsPage />);\n});\n"],"names":["domReady","createRoot","__","Panel","PanelBody","PanelRow","ToggleControl","TextControl","Button","Spinner","useState","apiFetch","useEffect","useDispatch","useSelect","store","noticesStore","NoticeList","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useSettings","isLoading","setIsLoading","show","setShow","title","setTitle","hours","setHours","tel","setTel","isSaving","setIsSaving","createSuccessNotice","removeAllNotices","path","then","settings","mySettings","heureux_mix_utils","catch","error","console","saveSettings","method","data","setTimeout","ShowControl","value","onChange","label","checked","__nextHasNoMarginBottom","TitleControl","HoursControl","TelControl","help","type","SaveButton","onClick","isPrimary","children","Notices","removeNotices","notices","select","getNotices","length","onRemove","SettingsPage","header","initialOpen","root","document","getElementById","render"],"sourceRoot":""}